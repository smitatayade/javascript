<!DOCTYPE html>
<html>
  <head>
    <title>Dynamic Emi Calculator</title>
    <link rel="stylesheet" href="/node_modules/bootstrap/dist/css/bootstrap.css"/>
    <script>
      function GetAmount() {
        document.getElementById("txtAmount").value = document.getElementById("rangeAmount").value;
      }
      function GetYears() {
        document.getElementById("txtYears").value = document.getElementById("rangeYears").value;
      }
      function GetRate() {
        document.getElementById("txtRate").value = document.getElementById("rangeRate").value;
      }

      function calculate() {
        var principle = parseInt(document.getElementById("txtAmount").value);
        var months = 12 * parseInt(document.getElementById("txtYears").value);
        var interest = parseInt(document.getElementById("txtRate").value);
        console.log(principle, months, interest);
        var result = document.getElementById('result');
        var payment;

        payment = (principle * interest) / ((1 / (1 + interest)) * months);
        console.log(payment);
        result.innerHTML = `<center>Your Monthly EMI will be ${payment} per month</center> <br> <a href="#" class="text-primary"><center>Apply for a personal loan</center></a>` ;
        result.className = 'col-8 bg-danger text-white p-3';
      }
    </script>
  </head>
  <body>
    <div class="container-fluid">
        <h2 class="m-5 text-danger" align="center">Personal Loan EMI Calculator</h2>
      <div class="row mt-3">
        <div class="col-2"></div>
        <div class="col-3">
          <div class="input-group w-100">
            <span class="input-group-text">Amount you need</span>
            <input type="text" size="6" class="form-control" value="50000" id="txtAmount"/>
          </div>
          <div>
            <input onchange="GetAmount()" type="range" min="50000" max="5000000" value="1000" class="form-range w-100" id="rangeAmount"/>
          </div>
          <div>
            <label class="float-start">&#8377; 50,000</label>
            <label class="float-end">&#8377; 50,00,000</label>
          </div>
        </div>
        <div class="col-2">
          <div class="input-group w-100">
            <span class="input-group-text">for</span>
            <input type="text" size="6" class="form-control" value="1" id="txtYears" />
            <span class="input-group-text">years</span>
          </div>
          <div>
            <input onchange="GetYears()" type="range" min="1" max="5" value="1" class="form-range w-100" id="rangeYears" />
          </div>
          <div>
            <label class="float-start">1 year</label>
            <label class="float-end">5 years</label>
          </div>
        </div>
        <div class="col-3">
          <div class="input-group w-100">
            <span class="input-group-text">interest rate</span>
            <input
              type="text"
              size="6" class="form-control" value="10" id="txtRate" />
            <span class="input-group-text">%</span>
          </div>
          <div>
            <input onchange="GetRate()" type="range" min="10" max="21" value="10" class="form-range w-100" id="rangeRate" />
          </div>
          <div>
            <label class="float-start">10.%</label>
            <label class="float-end">21%</label>
          </div>
          <div class="mt-5">
            <button class="btn btn-success float-end" onclick="calculate()"> Calculate </button>
          </div>
        </div>
        <div class="col-2"></div>
      </div>

      <div class="row mt-5">
        <div class="col-2"></div>
        <div id="result" class="col-8 ">
        </div>
        <div class="col-2"></div>
      </div>
    </div>
  </body>
</html>
